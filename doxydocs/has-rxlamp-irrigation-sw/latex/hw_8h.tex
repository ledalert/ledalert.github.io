\hypertarget{hw_8h}{}\section{src/hw.h File Reference}
\label{hw_8h}\index{src/hw.\+h@{src/hw.\+h}}


Hardware abstraction layer include file.  


This graph shows which files directly or indirectly include this file\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{hw_8h__dep__incl}
\end{center}
\end{figure}
\subsection*{Macros}
\begin{DoxyCompactItemize}
\item 
\#define \hyperlink{hw_8h_a40deaf267e014e0489a474b8eb6f7378}{D\+E\+F\+A\+U\+L\+T}(value,  default)~value = value ? value \+: default
\begin{DoxyCompactList}\small\item\em Sets a value if the value evaluates to false. \end{DoxyCompactList}\item 
\hypertarget{hw_8h_a2c9e85d22a9ba37ea589b1747af46307}{}\#define {\bfseries V\+R\+E\+F}~3.\+295\label{hw_8h_a2c9e85d22a9ba37ea589b1747af46307}

\item 
\hypertarget{hw_8h_a918f64eb53db8e8dc694f36a87646476}{}\#define {\bfseries R1}~100000.\+0\label{hw_8h_a918f64eb53db8e8dc694f36a87646476}

\item 
\hypertarget{hw_8h_aa6d350d439222376ecc6da4bb50403c2}{}\#define {\bfseries N\+T\+C\+\_\+\+R}~150000\label{hw_8h_aa6d350d439222376ecc6da4bb50403c2}

\item 
\hypertarget{hw_8h_a18525dcee03997cc094fdf30c82fbf1c}{}\#define {\bfseries N\+T\+C\+\_\+\+A1}~3.\+354016\+E-\/03\label{hw_8h_a18525dcee03997cc094fdf30c82fbf1c}

\item 
\hypertarget{hw_8h_a203d2ab7a8a9a70d5455888b923d341b}{}\#define {\bfseries N\+T\+C\+\_\+\+B1}~2.\+367720\+E-\/04\label{hw_8h_a203d2ab7a8a9a70d5455888b923d341b}

\item 
\hypertarget{hw_8h_ab9a7131a2fb1b8f70f428e5198ada9c1}{}\#define {\bfseries N\+T\+C\+\_\+\+C1}~3.\+585140\+E-\/06\label{hw_8h_ab9a7131a2fb1b8f70f428e5198ada9c1}

\item 
\hypertarget{hw_8h_aecc61ee6e79b14087f05cd59f8252898}{}\#define {\bfseries N\+T\+C\+\_\+\+D1}~1.\+255349\+E-\/07\label{hw_8h_aecc61ee6e79b14087f05cd59f8252898}

\item 
\hypertarget{hw_8h_a16b6412d50d047f1699f6882b7166d24}{}\#define {\bfseries T0\+\_\+\+K}~273.\+15\label{hw_8h_a16b6412d50d047f1699f6882b7166d24}

\item 
\hypertarget{hw_8h_aacaca0988244bd3a888ca5befa89f44b}{}\#define {\bfseries P\+W\+M\+\_\+\+P\+E\+R\+I\+O\+D}~4096\label{hw_8h_aacaca0988244bd3a888ca5befa89f44b}

\item 
\hypertarget{hw_8h_a0565d8b2c16056c3a4d9f916a7fe2ef3}{}\#define {\bfseries P\+W\+M\+\_\+\+T\+O\+P}~(P\+W\+M\+\_\+\+P\+E\+R\+I\+O\+D -\/ 1)\label{hw_8h_a0565d8b2c16056c3a4d9f916a7fe2ef3}

\item 
\hypertarget{hw_8h_aad6d4d2ba34b16b7fa27f303d506ef71}{}\#define {\bfseries \+\_\+\+H\+W\+\_\+\+H\+\_\+}\label{hw_8h_aad6d4d2ba34b16b7fa27f303d506ef71}

\end{DoxyCompactItemize}
\subsection*{Enumerations}
\begin{DoxyCompactItemize}
\item 
enum \hyperlink{hw_8h_a3c02952100e7d051b77cdf060ca0ba9b}{hw\+\_\+init\+\_\+state} \{ \\*
\hyperlink{hw_8h_a3c02952100e7d051b77cdf060ca0ba9ba6b96182ed0808ff30887f91b24d86849}{H\+W\+\_\+\+I\+N\+I\+T\+\_\+\+U\+N\+I\+N\+I\+T\+I\+A\+L\+I\+Z\+E\+D}, 
\hyperlink{hw_8h_a3c02952100e7d051b77cdf060ca0ba9baca0b4dbf0e3911b3edde56d700f76ecf}{H\+W\+\_\+\+I\+N\+I\+T\+\_\+\+R\+C\+C}, 
\hyperlink{hw_8h_a3c02952100e7d051b77cdf060ca0ba9ba4e9b2d4b7e946d95c2e41f3de17035a0}{H\+W\+\_\+\+I\+N\+I\+T\+\_\+\+G\+P\+I\+O}, 
\hyperlink{hw_8h_a3c02952100e7d051b77cdf060ca0ba9ba45012c00c17031e71a4f60ada04df07d}{H\+W\+\_\+\+I\+N\+I\+T\+\_\+\+P\+R\+E\+\_\+\+N\+V\+I\+C}, 
\\*
\hyperlink{hw_8h_a3c02952100e7d051b77cdf060ca0ba9ba3f137ea5dd6b2ac372bb6d175434b3fa}{H\+W\+\_\+\+I\+N\+I\+T\+\_\+\+N\+V\+I\+C}, 
\hyperlink{hw_8h_a3c02952100e7d051b77cdf060ca0ba9bacf9b04dc351d9fc47482fcd5229eb201}{H\+W\+\_\+\+I\+N\+I\+T\+\_\+\+P\+O\+S\+T\+\_\+\+I\+N\+I\+T}, 
{\bfseries H\+W\+\_\+\+I\+N\+I\+T\+\_\+\+I\+N\+I\+T\+I\+A\+L\+I\+Z\+E\+D}
 \}
\begin{DoxyCompactList}\small\item\em This is the state of the hardware abstraction layer. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
void \hyperlink{hw_8h_acf938165e604a675fe09218a1b3cfb5f}{hw\+\_\+init} ()
\begin{DoxyCompactList}\small\item\em Call hw\+\_\+init\+\_\+state with all states to go trough. \end{DoxyCompactList}\item 
void \hyperlink{hw_8h_aabae29cd362c0001a2b417c9206cb330}{hw\+\_\+init\+\_\+state} (enum \hyperlink{hw_8h_a3c02952100e7d051b77cdf060ca0ba9b}{hw\+\_\+init\+\_\+state} state)
\begin{DoxyCompactList}\small\item\em This function prototype calls all perhipherals with the state as argument. \end{DoxyCompactList}\end{DoxyCompactItemize}


\subsection{Detailed Description}
Hardware abstraction layer include file. 

\begin{DoxyRefDesc}{Todo}
\item[\hyperlink{todo__todo000001}{Todo}]There is some stuff not belonging to this file in here, it should be moved\end{DoxyRefDesc}


The hardware abstraction layer should be completely generic except that it initializes the system in a predefined order 

\subsection{Macro Definition Documentation}
\hypertarget{hw_8h_a40deaf267e014e0489a474b8eb6f7378}{}\index{hw.\+h@{hw.\+h}!D\+E\+F\+A\+U\+L\+T@{D\+E\+F\+A\+U\+L\+T}}
\index{D\+E\+F\+A\+U\+L\+T@{D\+E\+F\+A\+U\+L\+T}!hw.\+h@{hw.\+h}}
\subsubsection[{D\+E\+F\+A\+U\+L\+T}]{\setlength{\rightskip}{0pt plus 5cm}\#define D\+E\+F\+A\+U\+L\+T(
\begin{DoxyParamCaption}
\item[{}]{value, }
\item[{}]{default}
\end{DoxyParamCaption}
)~value = value ? value \+: default}\label{hw_8h_a40deaf267e014e0489a474b8eb6f7378}


Sets a value if the value evaluates to false. 


\begin{DoxyParams}{Parameters}
{\em value} & Variable to check and possibly set \\
\hline
{\em default} & Default value if value was 0 \\
\hline
\end{DoxyParams}


Definition at line 15 of file hw.\+h.



Referenced by timer\+\_\+ccr\+\_\+init(), usart\+\_\+configure\+\_\+gpio(), usart\+\_\+set\+\_\+defaults(), ws2812\+\_\+configure\+\_\+gpio(), ws2812\+\_\+configure\+\_\+timer(), and ws2812\+\_\+set\+\_\+defaults().



\subsection{Enumeration Type Documentation}
\hypertarget{hw_8h_a3c02952100e7d051b77cdf060ca0ba9b}{}\index{hw.\+h@{hw.\+h}!hw\+\_\+init\+\_\+state@{hw\+\_\+init\+\_\+state}}
\index{hw\+\_\+init\+\_\+state@{hw\+\_\+init\+\_\+state}!hw.\+h@{hw.\+h}}
\subsubsection[{hw\+\_\+init\+\_\+state}]{\setlength{\rightskip}{0pt plus 5cm}enum {\bf hw\+\_\+init\+\_\+state}}\label{hw_8h_a3c02952100e7d051b77cdf060ca0ba9b}


This is the state of the hardware abstraction layer. 

\begin{Desc}
\item[Enumerator]\par
\begin{description}
\index{H\+W\+\_\+\+I\+N\+I\+T\+\_\+\+U\+N\+I\+N\+I\+T\+I\+A\+L\+I\+Z\+E\+D@{H\+W\+\_\+\+I\+N\+I\+T\+\_\+\+U\+N\+I\+N\+I\+T\+I\+A\+L\+I\+Z\+E\+D}!hw.\+h@{hw.\+h}}\index{hw.\+h@{hw.\+h}!H\+W\+\_\+\+I\+N\+I\+T\+\_\+\+U\+N\+I\+N\+I\+T\+I\+A\+L\+I\+Z\+E\+D@{H\+W\+\_\+\+I\+N\+I\+T\+\_\+\+U\+N\+I\+N\+I\+T\+I\+A\+L\+I\+Z\+E\+D}}\item[{\em 
\hypertarget{hw_8h_a3c02952100e7d051b77cdf060ca0ba9ba6b96182ed0808ff30887f91b24d86849}{}H\+W\+\_\+\+I\+N\+I\+T\+\_\+\+U\+N\+I\+N\+I\+T\+I\+A\+L\+I\+Z\+E\+D\label{hw_8h_a3c02952100e7d051b77cdf060ca0ba9ba6b96182ed0808ff30887f91b24d86849}
}]Hardware is not initialized. \index{H\+W\+\_\+\+I\+N\+I\+T\+\_\+\+R\+C\+C@{H\+W\+\_\+\+I\+N\+I\+T\+\_\+\+R\+C\+C}!hw.\+h@{hw.\+h}}\index{hw.\+h@{hw.\+h}!H\+W\+\_\+\+I\+N\+I\+T\+\_\+\+R\+C\+C@{H\+W\+\_\+\+I\+N\+I\+T\+\_\+\+R\+C\+C}}\item[{\em 
\hypertarget{hw_8h_a3c02952100e7d051b77cdf060ca0ba9baca0b4dbf0e3911b3edde56d700f76ecf}{}H\+W\+\_\+\+I\+N\+I\+T\+\_\+\+R\+C\+C\label{hw_8h_a3c02952100e7d051b77cdf060ca0ba9baca0b4dbf0e3911b3edde56d700f76ecf}
}]This is the first state entered and here hardware drivers may initialize any clocks needed. \index{H\+W\+\_\+\+I\+N\+I\+T\+\_\+\+G\+P\+I\+O@{H\+W\+\_\+\+I\+N\+I\+T\+\_\+\+G\+P\+I\+O}!hw.\+h@{hw.\+h}}\index{hw.\+h@{hw.\+h}!H\+W\+\_\+\+I\+N\+I\+T\+\_\+\+G\+P\+I\+O@{H\+W\+\_\+\+I\+N\+I\+T\+\_\+\+G\+P\+I\+O}}\item[{\em 
\hypertarget{hw_8h_a3c02952100e7d051b77cdf060ca0ba9ba4e9b2d4b7e946d95c2e41f3de17035a0}{}H\+W\+\_\+\+I\+N\+I\+T\+\_\+\+G\+P\+I\+O\label{hw_8h_a3c02952100e7d051b77cdf060ca0ba9ba4e9b2d4b7e946d95c2e41f3de17035a0}
}]After clocks have been initialized all G\+P\+I\+O will be initialized, this also puts pins to their default value) \index{H\+W\+\_\+\+I\+N\+I\+T\+\_\+\+P\+R\+E\+\_\+\+N\+V\+I\+C@{H\+W\+\_\+\+I\+N\+I\+T\+\_\+\+P\+R\+E\+\_\+\+N\+V\+I\+C}!hw.\+h@{hw.\+h}}\index{hw.\+h@{hw.\+h}!H\+W\+\_\+\+I\+N\+I\+T\+\_\+\+P\+R\+E\+\_\+\+N\+V\+I\+C@{H\+W\+\_\+\+I\+N\+I\+T\+\_\+\+P\+R\+E\+\_\+\+N\+V\+I\+C}}\item[{\em 
\hypertarget{hw_8h_a3c02952100e7d051b77cdf060ca0ba9ba45012c00c17031e71a4f60ada04df07d}{}H\+W\+\_\+\+I\+N\+I\+T\+\_\+\+P\+R\+E\+\_\+\+N\+V\+I\+C\label{hw_8h_a3c02952100e7d051b77cdf060ca0ba9ba45012c00c17031e71a4f60ada04df07d}
}]After G\+P\+I\+Os have been initialized we might want to do some stuff before N\+V\+I\+C. \begin{DoxyRefDesc}{Todo}
\item[\hyperlink{todo__todo000002}{Todo}]Implement the default value thing \end{DoxyRefDesc}
\index{H\+W\+\_\+\+I\+N\+I\+T\+\_\+\+N\+V\+I\+C@{H\+W\+\_\+\+I\+N\+I\+T\+\_\+\+N\+V\+I\+C}!hw.\+h@{hw.\+h}}\index{hw.\+h@{hw.\+h}!H\+W\+\_\+\+I\+N\+I\+T\+\_\+\+N\+V\+I\+C@{H\+W\+\_\+\+I\+N\+I\+T\+\_\+\+N\+V\+I\+C}}\item[{\em 
\hypertarget{hw_8h_a3c02952100e7d051b77cdf060ca0ba9ba3f137ea5dd6b2ac372bb6d175434b3fa}{}H\+W\+\_\+\+I\+N\+I\+T\+\_\+\+N\+V\+I\+C\label{hw_8h_a3c02952100e7d051b77cdf060ca0ba9ba3f137ea5dd6b2ac372bb6d175434b3fa}
}]After G\+P\+I\+O have been initialized all N\+V\+I\+C will be initialized. \index{H\+W\+\_\+\+I\+N\+I\+T\+\_\+\+P\+O\+S\+T\+\_\+\+I\+N\+I\+T@{H\+W\+\_\+\+I\+N\+I\+T\+\_\+\+P\+O\+S\+T\+\_\+\+I\+N\+I\+T}!hw.\+h@{hw.\+h}}\index{hw.\+h@{hw.\+h}!H\+W\+\_\+\+I\+N\+I\+T\+\_\+\+P\+O\+S\+T\+\_\+\+I\+N\+I\+T@{H\+W\+\_\+\+I\+N\+I\+T\+\_\+\+P\+O\+S\+T\+\_\+\+I\+N\+I\+T}}\item[{\em 
\hypertarget{hw_8h_a3c02952100e7d051b77cdf060ca0ba9bacf9b04dc351d9fc47482fcd5229eb201}{}H\+W\+\_\+\+I\+N\+I\+T\+\_\+\+P\+O\+S\+T\+\_\+\+I\+N\+I\+T\label{hw_8h_a3c02952100e7d051b77cdf060ca0ba9bacf9b04dc351d9fc47482fcd5229eb201}
}]After N\+V\+I\+C is initialized there might be more stuff todo such as setting up perhipheral settings. \end{description}
\end{Desc}


Definition at line 33 of file hw.\+h.



\subsection{Function Documentation}
\hypertarget{hw_8h_acf938165e604a675fe09218a1b3cfb5f}{}\index{hw.\+h@{hw.\+h}!hw\+\_\+init@{hw\+\_\+init}}
\index{hw\+\_\+init@{hw\+\_\+init}!hw.\+h@{hw.\+h}}
\subsubsection[{hw\+\_\+init}]{\setlength{\rightskip}{0pt plus 5cm}void hw\+\_\+init (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}\label{hw_8h_acf938165e604a675fe09218a1b3cfb5f}


Call hw\+\_\+init\+\_\+state with all states to go trough. 



Definition at line 18 of file hw.\+c.



References H\+W\+\_\+\+I\+N\+I\+T\+\_\+\+G\+P\+I\+O, H\+W\+\_\+\+I\+N\+I\+T\+\_\+\+N\+V\+I\+C, H\+W\+\_\+\+I\+N\+I\+T\+\_\+\+P\+O\+S\+T\+\_\+\+I\+N\+I\+T, H\+W\+\_\+\+I\+N\+I\+T\+\_\+\+P\+R\+E\+\_\+\+N\+V\+I\+C, and H\+W\+\_\+\+I\+N\+I\+T\+\_\+\+R\+C\+C.



Referenced by main().

\hypertarget{hw_8h_aabae29cd362c0001a2b417c9206cb330}{}\index{hw.\+h@{hw.\+h}!hw\+\_\+init\+\_\+state@{hw\+\_\+init\+\_\+state}}
\index{hw\+\_\+init\+\_\+state@{hw\+\_\+init\+\_\+state}!hw.\+h@{hw.\+h}}
\subsubsection[{hw\+\_\+init\+\_\+state}]{\setlength{\rightskip}{0pt plus 5cm}void {\bf hw\+\_\+init\+\_\+state} (
\begin{DoxyParamCaption}
\item[{enum {\bf hw\+\_\+init\+\_\+state}}]{state}
\end{DoxyParamCaption}
)}\label{hw_8h_aabae29cd362c0001a2b417c9206cb330}


This function prototype calls all perhipherals with the state as argument. 

This function prototype calls all perhipherals with the state as argument. 

Definition at line 64 of file main.\+c.



References usart\+\_\+init(), and ws2812\+\_\+init().

